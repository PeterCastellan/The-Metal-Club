<ion-header>

  <ion-navbar color="main">
    <ion-title>Band</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-grid>
    <ion-row>
      <ion-col>
        <div>
          <img style="vertical-align: middle; width: 140px; height: 140px; border-radius: 50%;" [src]="band.sImagem">
        </div>
      </ion-col>
      <ion-col>
        <div>
          <h2 text-center>{{band.sNome}}</h2>
          <p text-center>{{band.country.sPais}}</p>
          <p text-center>#{{band.rRankingGeral}} General</p>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>

  <div *ngIf="!isShowingFullText">
    <p [innerHTML]="previewText"></p>
    <button ion-button clear color="primary" (click)="readFullText(true)">Read more...</button>
  </div>

  <div *ngIf="isShowingFullText">
    <p [innerHTML]="band.sDescricao"></p>
    <button ion-button clear color="primary" (click)="readFullText(false)">Read less...</button>
  </div>


  <!--
    <div class='container2'>
      <div>
        <img src="../../assets/icon/Subtraction 2.png" class='iconDetails'>
      </div>
      <div style='margin-left:60px;'>
        <h3>{{band.albums.length}}</h3>
        <div style="font-size:.6em;float:left;">albums</div>
        <div style="float:right;font-size:.6em">0 mins ago</div>
      </div>
    </div>
  -->

  <ion-grid>
    <ion-row>
      <ion-col>
        <ion-grid>
          <ion-row>
            <ion-col col-auto>
              <img src="../../assets/icon/Subtraction 2.png" style="float:left">
            </ion-col>
            <ion-col>
              <h2 class="number_title">{{band.albums.length}}</h2>
              <p class="label_title">albums</p>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-col>
      <ion-col>
        <ion-grid>
          <ion-row>
            <ion-col col-auto>
              <img src="../../assets/icon/music.png">
            </ion-col>
            <ion-col>
              <h2 class="number_title">1214</h2>
              <p class="label_title">songs</p>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-col>
    </ion-row>
  </ion-grid>

  <h2>Albums</h2>
  <div class="scrolling-wrapper">
    <div class="card" *ngFor="let album of band.albums" (click)="openAlbum(album)">
      <img [src]="album.sImagem" style="width: 100px; height: 100px;"><br>
      <h2 text-center style="margin: 0px; font-size: 1.6rem">#{{album.rPosicaoRankingGeral}}</h2>
      <p text-center style="word-wrap: break-word; margin: 0px;">{{album.sNome}}</p>
    </div>
  </div>

  <h2>Top Songs</h2>
  <ion-list>
    <ion-item class="item-song" *ngFor="let song of songs">
      <div>
        <!--
          <iframe id="ytplayer" style="float: left; margin-right: 16px; width: 100px; height: 100px;" type="text/html" width="100%" height="100%" [src]="youtubeVideoLink" frameborder="0">
          </iframe>
          <img src="../../assets/imgs/6c1e8012b62a55a7dc7e856291f3eb0e.png" style="float: left; margin-right: 16px; width: 100px; height: 100px;" />
        -->
        <div class="song-info">
          <b>{{song.sNome}}</b> <br>
          {{convertSecondsToMinutesAndSeconds(song.rDuracao)}} <br>
          Score: {{trucateFloatNumber(song.rAverageRating)}}
        </div>
      </div>
      <img src="../../assets/icon/guitar_pallete.svg" (click)="voteForSong(song.id, 2, song.sNome)" style="width: 30px; height: 30px;">
      <img src="../../assets/icon/guitar_pallete.svg" (click)="voteForSong(song.id, 4, song.sNome)" style="width: 30px; height: 30px;">
      <img src="../../assets/icon/guitar_pallete.svg" (click)="voteForSong(song.id, 6, song.sNome)" style="width: 30px; height: 30px;">
      <img src="../../assets/icon/guitar_pallete.svg" (click)="voteForSong(song.id, 8, song.sNome)" style="width: 30px; height: 30px;">
      <img src="../../assets/icon/guitar_pallete.svg" (click)="voteForSong(song.id, 10, song.sNome)" style="width: 30px; height: 30px;">
      <!--

        <ion-icon (click)="testando()" name="custom-palheta"></ion-icon>
        <ion-icon (click)="testando()" name="custom-palheta"></ion-icon>
        <ion-icon (click)="testando()" name="custom-palheta"></ion-icon>
        <ion-icon (click)="testando()" name="custom-palheta"></ion-icon>
        <ion-icon (click)="testando()" name="custom-palheta"></ion-icon>
      -->
      <a [href]="song.videoURL">
        <img item-end src="../../assets/icon/icon_youtube.png" style="width: 30px; height: 30px; margin-left: 80px;">
      </a>
    </ion-item>

  </ion-list>
</ion-content>