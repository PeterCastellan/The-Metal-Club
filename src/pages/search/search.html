<!--
  Generated template for the SearchPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="main">
    <ion-title text-center>Search</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <ion-searchbar [(ngModel)]="searchQuery" (change)="onInput($event)"></ion-searchbar>
  <div *ngIf="!searchResult" align="center" class="container">
    <img src="assets/icon/magnify.png">
    <p>Search in
      <br>
      The Metal Club</p>
  </div>

  <div *ngIf="searchResult">
    <br>
    
    <h2>Bands</h2>
    <div class="scrolling-wrapper">
      <div class="card" *ngFor="let band of list_bands" (click)="openBand(band)">
        <img [src]="band.sImagem" style="width: 100px; height: 100px; border-radius: 50%;"><br>
        <h2 class="bandRank">#{{ band.serial }}</h2>
        <p class="bandName">{{ band.sNome }}</p>
      </div>
    </div>

    <h2>Albums</h2>
    <div class="scrolling-wrapper-album">
      <div class="card-album" *ngFor="let album of list_albums" (click)="openAlbum(album)">
        <img [src]="album.sImagem" style="width: 100px; height: 100px;" />
        <h2 class="albumRank">#{{ album.serial }}</h2>
        <p class="albumName">{{ album.sNome }}</p>
        <p class="albumBandName">{{ album.sNomeBanda }}</p>
      </div>
    </div>

    <h2>Songs</h2>
    <ion-list>
        <ion-item class="item-song" *ngFor="let song of list_songs">
            <div>
              <div class="song-info">
                {{song.sNome}} <br>
                {{getSize(song.rDuracao)}}<br>
                Score: {{trucateFloatNumber(song.rAverageRating)}} <br>
              </div>
              <div>
                YOUR RATE: {{trucateFloatNumber(song.userRating)}}
              </div>
            </div>
            <img src="../../assets/icon/guitar_pallete.svg" (click)="voteForSong(song.id, 2, song.sNome)" style="width: 30px; height: 30px;">
            <img src="../../assets/icon/guitar_pallete.svg" (click)="voteForSong(song.id, 4, song.sNome)" style="width: 30px; height: 30px;">
            <img src="../../assets/icon/guitar_pallete.svg" (click)="voteForSong(song.id, 6, song.sNome)" style="width: 30px; height: 30px;">
            <img src="../../assets/icon/guitar_pallete.svg" (click)="voteForSong(song.id, 8, song.sNome)" style="width: 30px; height: 30px;">
            <img src="../../assets/icon/guitar_pallete.svg" (click)="voteForSong(song.id, 10, song.sNome)" style="width: 30px; height: 30px;">
            
            <img item-end src="../../assets/icon/icon_youtube.png" style="width: 30px; height: 30px;">
          </ion-item>
    </ion-list>
  </div>

</ion-content>